<header>
  {% extends 'base_navbar.html' %} {% block contenido %}{%load static%}
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet" />
  <meta charset="utf-8" />
</header>

<body>
  <br>
  <div class="container">
    <div class="row">
      <div class="col-md-3">
        {% if foto == "None"%}
          <img src="{% static "/media/avatar.png" %}" class="img-fluid" style="display: block; margin: 0 auto; float:center; height:180px;"/>
        {%else%}
          <div class="image">
            <img src="{% static foto %}" class="img-fluid img-thumbnail" style="display: block; margin: 0 auto; float:center"/>
            <br>
          </div>
        {%endif%}
      </div>

        <div class="col-md-5">
          <h3>{{nombre}}</h3>
          <p>Titulación: {{titulacion}}</p>
          <p>Monedero: {{dinero}}€</p>
        </div>
        <div class="col-md-3">
          {% if boolPuntos %}
          <div class="rating-block">
              <h5>Valoración media de los usuarios</h5>
              <h2 class="bold padding-bottom-7">{{valoracion}} <small>/ 5</small></h2>
          </div>    
          {% else %}
              <h3>No tienes valoraciones</h3>
          {%endif%}

          
          <a class="btn btn-outline-secondary mt-3" href="/pago">Añadir fondos</h2>   
          <a class="btn btn-outline-secondary mt-3"  href="/actualizar_perfil">Actualizar Perfil</a>
        </div>
      </div>
    </div>
    <br>
    <div class="container" style="height:450px; overflow-y: scroll; border: 1px solid black">
          <div class="col-md-12" style="border: 2px solid grey; border-radius: 25px;">        
              <h5>Reporte</h5>
              <p>Fecha: 27-03-2022</p>
              <p>Descripción: La linea 22 tiene una errata</p>
          </div>
          <br>
          <div class="col-md-12" style="border: 2px solid grey; border-radius: 25px;">         
              <h5>Comentario</h5>
              <p>Fecha: 27-03-2022</p>
              <p>Descripción: No entiendo a que te refieres en la linea 22, no entiendo porque haces la recursion ahi cuando lo inteligente seria...</p>
          </div>
          <br>
          <div class="col-md-12" style="border: 2px solid grey; border-radius: 25px;">       
              <h5>Nuevo alumno</h5>
              <p>Fecha: 14-02-2022</p>
              <p>jesapaort se ha inscrito en tu curso</p>
          </div>
          <br>
          <div class="col-md-12" style="border: 2px solid grey; border-radius: 25px;">        
              <h5>Comentario</h5>
              <p>Fecha: 29-03-2022</p>
              <p>Descripción: Podrias explicar de otra forma esto, es que no entiendo porque al compilar el archivo este da...</p>
        </div>

     </div>
    </div>

      </div>
      <br>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h3>Mis Notificaciones</h3>
            <hr>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Tipo</th>
                    <th>Fecha</th>
                    <th>Curso</th>
                    <th>Alumno</th>
                    <th>Descripcion</th>
                    <th></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  {% for notificacion in notificaciones %}
                    {% if not notificacion.visto %}
                      <tr>
                        <td>{{notificacion.tipo}}</td>
                        <td>{{notificacion.fecha}}</td>
                        <td>{{notificacion.curso.nombre}}</td>
                        <td>{{notificacion.alumno.nombre}}</td>
                        <td>{{notificacion.descripcion}}</td>
                        <td>
                          <a class="btn btn-outline-secondary" href="{{notificacion.referencia}}">Ver</a>
                        </td>
                        <td>
                          <a type="submit" class="btn btn-outline-danger" href="/notificacion/eliminar/{{notificacion.id}}">X</a>
                        </td>
                      </tr>
                    {% endif %}
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="container" style="height:450px; overflow-y: scroll; border: 1px solid black">
            <div class="col-md-12" style="border: 2px solid grey; border-radius: 25px;">        
                <h5>Reporte</h5>
                <p>Fecha: 27-03-2022</p>
                <p>Descripción: La linea 22 tiene una errata</p>
            </div>
            <br>
            <div class="col-md-12" style="border: 2px solid grey; border-radius: 25px;">         
                <h5>Comentario</h5>
                <p>Fecha: 27-03-2022</p>
                <p>Descripción: No entiendo a que te refieres en la linea 22, no entiendo porque haces la recursion ahi cuando lo inteligente seria...</p>
            </div>
            <br>
            <div class="col-md-12" style="border: 2px solid grey; border-radius: 25px;">       
                <h5>Nuevo alumno</h5>
                <p>Fecha: 14-02-2022</p>
                <p>jesapaort se ha inscrito en tu curso</p>
            </div>
            <br>
            <div class="col-md-12" style="border: 2px solid grey; border-radius: 25px;">        
                <h5>Comentario</h5>
                <p>Fecha: 29-03-2022</p>
                <p>Descripción: Podrias explicar de otra forma esto, es que no entiendo porque al compilar el archivo este da...</p>
          </div>
       </div>
      </div>


{% endblock %}
</body>
<footer>

</footer>